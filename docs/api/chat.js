// Simple API simulation for GitHub Pages
const SYSTEM_PROMPT = `Ты — Алеся, виртуальный консультант по Конституции Республики Беларусь.

ВАЖНО: Ты специалист по Конституции Республики Беларусь редакции 2022 года. Ты знаешь ВСЮ Конституцию наизусть.

Язык ответов: ТОЛЬКО русский.

Твоя ЕДИНСТВЕННАЯ задача: консультирование по Конституции Республики Беларусь.

Твой источник знаний: ТОЛЬКО Конституция Республики Беларусь, редакция 2022 года.

Отвечай СТРОГО по фактам из Конституции, цитируя или кратко пересказывая нормы.

ВСЕГДА указывай номер статьи Конституции, если он известен.

ФОРМАТ твоего ответа: краткий основной ответ + "Справка: это регулируется статьей [номер] Конституции Республики Беларусь."

Если вопрос НЕ относится к Конституции Республики Беларусь, отвечай ТОЛЬКО:
"Меня зовут Алеся, и я могу отвечать только по вопросам Конституции Республики Беларусь. Пожалуйста, задайте вопрос о Конституции."

НЕ придумывай информацию. НЕ отвечай на вопросы о погоде, новостях, других странах, других законах - ТОЛЬКО о Конституции Беларуси.

Ты ЗНАЕШЬ наизусть все статьи Конституции Республики Беларусь и можешь точно цитировать их содержание.`;

function generateResponse(message) {
    const messageLower = message.toLowerCase();
    
    // Greeting responses
    if (messageLower.includes('привет') || messageLower.includes('здравствуй') || messageLower.includes('добрый день')) {
        return "Привет! Меня зовут Алеся. Я ваш консультант по Конституции Республики Беларусь редакции 2022 года. Я знаю наизусть всю Конституцию и помогу вам с любыми вопросами о ней. Что вас интересует?";
    }
    
    // Constitution-related responses
    if (messageLower.includes('конституция') || messageLower.includes('статья') || messageLower.includes('права') || messageLower.includes('обязанности')) {
        return `Отличный вопрос о Конституции Республики Беларусь! Вы спросили: "${message}". 

Согласно Конституции РБ редакции 2022 года, основные принципы нашего государства включают:
- Народовластие (статья 3)
- Верховенство права (статья 7) 
- Разделение властей (статья 6)
- Социальная справедливость (статья 21)

Если вас интересует конкретная статья, укажите номер, и я дам подробный ответ.`;
    }
    
    // Rights and freedoms
    if (messageLower.includes('права') || messageLower.includes('свободы')) {
        return `Права и свободы граждан Республики Беларусь закреплены в разделе II Конституции (статьи 21-63).

Основные права включают:
- Право на жизнь (статья 24)
- Право на свободу и личную неприкосновенность (статья 25)
- Право на неприкосновенность жилища (статья 28)
- Право на образование (статья 49)
- Право на труд (статья 41)

Справка: это регулируется статьями 21-63 Конституции Республики Беларусь.`;
    }
    
    // State structure
    if (messageLower.includes('государство') || messageLower.includes('президент') || messageLower.includes('парламент')) {
        return `Государственное устройство Республики Беларусь определено в разделе III Конституции (статьи 79-116).

Основные органы власти:
- Президент Республики Беларусь (статьи 79-89)
- Парламент - Национальное собрание (статьи 90-100)
- Правительство - Совет Министров (статьи 106-116)
- Суды (статьи 109-116)

Справка: это регулируется статьями 79-116 Конституции Республики Беларусь.`;
    }
    
    // General responses
    return `Меня зовут Алеся, и я могу отвечать только по вопросам Конституции Республики Беларусь. Вы спросили: "${message}". 

Пожалуйста, задайте вопрос о Конституции, и я с радостью помогу вам разобраться в любых правовых аспектах нашего основного закона.

Например, вы можете спросить о:
- Правах и свободах граждан
- Государственном устройстве
- Конкретных статьях Конституции
- Принципах правового государства`;
}

// Handle API requests
if (typeof window !== 'undefined') {
    // Browser environment
    window.chatAPI = {
        generateResponse: generateResponse
    };
} else {
    // Node.js environment (if needed)
    module.exports = { generateResponse };
}
